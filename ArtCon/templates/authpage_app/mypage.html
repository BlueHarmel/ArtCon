{% extends 'base.html' %}
{% load static %}
{% load social_share %}
{% block content %}


<!-- Start page -->

<div class="d-flex flex-column p-3 bg-white align-items-center mt-3 mb-5">
  <div class="fs-1 pt-3 text-dark" style="letter-spacing: 5px;">
      <p class="fs-1 fw-bold">마이 페이지</p>
  </div>
</div>
<!-- Start body -->
  <div class="d-flex flex-row p-3 mx-5 my-3 align-items-center justify-content-center">
    <div class="d-flex flex-column px-2 py-3 mx-2 container">
      <div class="d-inline-flex align-content-center justify-content-between my-2">
        <div class="d-inline-flex">
          <i class="fa fa-user-circle fs-3 mx-3"></i>
          <p class="fs-5"><b class="fw-bold">{{request.user.username}}</b>님, 안녕하세요</p>
        </div>
        <div>
          <a href="#" class="fs-xs-1 text-dark">회원정보 수정</a>
        </div>
      </div>
      <hr>

      <div class="d-flex flex-column">
        <div class="container mt-3 mb-5">
          <h3 class="h3 p-2 fw-bold text-primary">찜한 목록</h3>
          <div class="card d-flex flex-row px-2 my-2
            align-items-center justify-content-between">
            {% for perform in followed_perform %}
              <div class="p-2 my-2">
                  <a href = {% url 'exhibit:exhibition' perform.id %}><img src = "{{perform.P_Img}}",id='recommendimg1' class="rounded-3 pic-sm img-fluid border-opacity-25 "></a>
              </div>
            {% endfor %}
          </div>
        </div>
        <hr>

        <div class="container mt-3 mb-5">
          <h3 class="h3 p-2 fw-bold text-primary">내가 작성한 리뷰</h3>
          <div class="card d-flex flex-row px-2 my-2
            align-items-center justify-content-between">
            {% for review in my_reviews %}
            <div class="p-2 my-2">
                <a href="{% url 'exhibit:exhibition' review.Perform_id %}">{{review.contents}}</a>
            </div>
            {% endfor %}

          </div>
        </div>              
      </div>
    </div>
  </div>
<!-- End body -->

<!-- End page -->



    <!-- <div class="d-flex flex-column p-5 bg-white align-items-center my-3">
        <div class="fs-1 pt-3 text-dark" style="letter-spacing: 5px;">
            <p class="fs-1 fw-bold">마이 페이지</p>
        </div>
      </div>
    
        <div id="container" class="d-flex flex-row p-5 mx-5 my-3">
          <div id="navigation" class="d-flex flex-column card col-md-5 col-lg-4 px-2 py-3 mx-2">
            <div class="d-inline-flex my-2">
              <i class="fa-regular fa-user mx-2"></i>
              <p><b>아트콘</b>님, 안녕하세요</p>
            </div>
            <a 
              class="text-decoration-none my-2 :hover "
              onclick="changeContent('profile')">회원정보 수정</a>
            <a 
            class="text-decoration-none my-2 :hover"
            onclick="changeContent('wishlist')">찜한 목록</a>
            <a 
            class="text-decoration-none my-2"
            onclick="changeContent('reviews')">리뷰 보기</a>
          </div>
  
          <div id="content" class="col-md-5 col-lg-6 mx-3 align-items-center justify-content-center">
            <h1>제일 처음 접속 시 화면</h1>
            <p>페이지 내용</p>
          </div>
        </div>
      
        <script>
  
          function changeContent(page) {
            let contentDiv = document.getElementById("content");
            let pageTitle = "";
            let pageContent = "";
      
            if (page === "profile") {
              pageTitle = "회원정보 수정";
              pageContent = `
                <div>
                  <label for="name">이름:</label>
                  <input type="text" id="name" name="name"><br>
                  <label for="username">아이디:</label>
                  <input type="text" id="username" name="username"><br>
                  <label for="username">전화번호:</label>
                  <input type="text" id="username" name="username"><br>
                  <button type="submit" class="btn btn-primary">저장</button>
                </div>
              `;
            } else if (page === "wishlist") {
              pageTitle = "찜한 목록";
              // Simulated list of favorite performances
              let wishlistItems = [
                "공연 1", "공연 2", "공연 3",
                // "공연 4", "공연 5", "공연 6",
                // "공연 7", "공연 8", "공연 9",
              ];
              pageContent = wishlistItems.map(item => `
                <div class="d-flex d-column card">${item}</div>
              `).join("");
            } else if (page === "reviews") {
              pageTitle = "리뷰 보기";
              // Simulated list of reviews
              let reviews = [
                { profile: "img 1", nickname: "닉네임 1", rating: 4, review: "아주 좋아요!" },
                { profile: "img 2", nickname: "닉네임 2", rating: 5, review: "재미있었어요" },
                { profile: "img 3", nickname: "닉네임 3", rating: 3, review: "괜찮아요." },
              ];
              pageContent = reviews.map(review => `
                <div class="card">
                  <div class="d-flex flex-row">
                    <div class="mx-2">${review.profile}</div>
                    <div>닉네임: ${review.nickname}</div>
                  </div>
                  <div>평점: ${review.rating}</div>
                  <div>리뷰: ${review.review}</div>
                </div>
              `).join("");
            }
      
            contentDiv.innerHTML = "<h3>" + pageTitle + "</h3>" + pageContent;
          }
        </script> 
      </div> -->
  


{% endblock %}