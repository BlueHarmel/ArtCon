{% extends 'base.html' %}
{% load static %}
{% block content %}

    <!-- Start Content -->
    <div class="container py-5">
        <div class="flex d-flex row">

            <!-- Start Exhibition List -->
            <div class="col-md-5 my-5">
                <h1 class="h3 fw-bold mb-3">추천 전시회 목록</h1>
                <!-- Start List of Recommendation-->
                <div class="row">
                    <div class="card md-4" style="max-width: 550px;">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card mb-4 product-wap rounded-0">
                                    <div class="card rounded-0">
                                        <img class="card-img rounded-0 img-fluid" src="./img/에드워드 호퍼 길 위에서.gif"/>
                                        <div class="card-img-overlay rounded-0 product-overlay d-flex align-items-center justify-content-center">
                                            <ul class="list-unstyled">
                                                <li><a class="btn btn-success text-white mt-2" href="{% url 'exhibition' %}"><i class="far fa-eye"></i></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card-body">
                                <p class="card-title fw-bold">에드워드 호퍼 길 위에서</p>
                                <p class="card-text fs-6">20세기 미국 현대미술사를 대표하는 작가 에드워드 호퍼의 국내 첫 대규모 개인전이 열립니다. </p>
                                <a class="nav-icon d-none d-lg-inline" href="#" data-bs-toggle="modal" data-bs-target="#templatemo_search">
                                <i class="fa-solid fa-location-dot" style="color: #000000;"></i>
                                        </a>
                                    <p class="fs-6"><i class="fas fa-regular fa-clock"></i>   08:00~19:00</p>
                                    <p class="fs-6"><i class="fas fa-map-marker-alt"></i>   서울시 중구</p>
                                    <a href="{% url 'exhibition' %}" class="btn btn-sm btn-primary fs-6">자세히 보기</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card md-4" style="max-width: 550px;">
                        <div class="row">
                          <div class="col-md-6">
                            <div class="card mb-4 product-wap rounded-0">
                                <div class="card rounded-0">
                                    <img class="card-img rounded-0 img-fluid" src="/assets/img/피카소와 20세기 거장들.gif">
                                    <div class="card-img-overlay rounded-0 product-overlay d-flex align-items-center justify-content-center">
                                    <ul class="list-unstyled">
                                        <li><a class="btn btn-success text-white mt-2" href="{% url 'exhibition' %}"><i class="far fa-eye"></i></a></li>
                                    </ul>
                                    </div>
                                </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="card-body">
                              <p class="card-title fw-bold">피카소와 20세기 거장들</p>
                              <p class="card-text fs-6">세계 세 번째 규모의 피카소 컬렉션으로 루드비히 미술관 피카소 소장품 국내 최초 공개. 더불어 20세기 거장들의 마스터피스를 한곳에서 만날 수 있는 특별한 기회.</p>
                              <a class="nav-icon d-none d-lg-inline" href="#" data-bs-toggle="modal" data-bs-target="#templatemo_search">
                                <i class="fa-solid fa-location-dot" style="color: #000000;"></i>
                              </a>
                              <p class="fs-6"><i class="fas fa-regular fa-clock"></i>   08:00~19:00</p>
                              <p class="fs-6"><i class="fas fa-map-marker-alt"></i>   서울시 중구</p>
                              <a href="{% url 'exhibition' %}" class="btn btn-sm btn-primary fs-6">자세히 보기</a>
                            </div>
                          </div>
                        </div>
                    </div>
                    <div class="card md-4" style="max-width: 550px;">
                        <div class="row">
                          <div class="col-md-6">
                            <div class="card mb-4 product-wap rounded-0">
                                <div class="card rounded-0">
                                    <img class="card-img rounded-0 img-fluid" src="./assets/img/제이알 크로니클스.gif">
                                    <div class="card-img-overlay rounded-0 product-overlay d-flex align-items-center justify-content-center">
                                    <ul class="list-unstyled">
                                        <li><a class="btn btn-success text-white mt-2" href="{% url 'exhibition' %}"><i class="far fa-eye"></i></a></li>
                                    </ul>
                                    </div>
                                </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="card-body">
                              <p class="card-title fw-bold">제이알 크로니클스</p>
                              <p class="card-text fs-6">2019년 뉴옥 미술관을 시작으로 독일에 이어 서울에서 아시아 최초로 선보이는 제이알의 20년간 펼쳐온 행보를 이번 프로젝트를 통해 소개한다.</p>
                              <a class="nav-icon d-none d-lg-inline" href="#" data-bs-toggle="modal" data-bs-target="#templatemo_search">
                                <i class="fa-solid fa-location-dot" style="color: #000000;"></i>
                              </a>
                              <p class="fs-6"><i class="fas fa-regular fa-clock"></i>   08:00~19:00</p>
                              <p class="fs-6"><i class="fas fa-map-marker-alt"></i>   서울시 중구</p>
                              <a href="{% url 'exhibition' %}" class="btn btn-sm btn-primary fs-6">자세히 보기</a>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
                <!-- End List of Recommendation-->
            </div>
            <!-- End Exhibition List -->

            <!-- Start Map -->
            <div class="col-md-6 my-5">
                <div class="d-flex flex-row align-items-start">
                  <h1 class="h3 fw-bold mb-3">지도로 찾아보기</h1>
                  <button onclick="getLocation()" class="btn btn-primary mx-3">현재 위치 찾기</button>
                </div>                
                <div>                    
                  <div id="map" class="map border-primary col-md-6" style="width:800px; height:900px;"></div>
                  <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=68869ffd346ee561ce8051bca3b782f7"></script>
                  <script>
                    // 좌표 얻어오기
                    // const boundsStr = bounds.toString();     
                    
                    const defaultPosition = new kakao.maps.LatLng(37.566535, 126.9779692);

                    const container = document.getElementById('map');
                    const options = { 
                        center: defaultPosition, 
                        level: 3
                    };
                    // 지도 생성
                    const map = new kakao.maps.Map(container, options);
                    window.onload = setMap(defaultPosition);
                    
                    function getLocation() {
                      if(navigator.geolocation) {
                          navigator.geolocation.getCurrentPosition(
                              function successCallback(position) {
                                  const x = position.coords.latitude;
                                  const y = position.coords.longitude;
                    
                              const options = { 
                                  center: new kakao.maps.LatLng(x, y), 
                                  level: 3
                              };
                              // 지도 생성
                              const map = new kakao.maps.Map(container, options);

                              // 지도 줌 컨트롤
                              const mapTypeControl = new kakao.maps.MapTypeControl();
                              map.addControl(mapTypeControl, kakao.maps.ControlPosition.TOPRIGHT);
                              const zoomControl = new kakao.maps.ZoomControl();
                              map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);
                              
                              /*
                              const positions = [
                                  {
                                      title: 'user',
                                      latlng: new kakao.maps.LatLng(userLocation.x, userLocation.y)
                                  },
                                  {
                                      title: '생태연못', 
                                      latlng: new kakao.maps.LatLng(33.450936, 126.569477)
                                  },
                                  {
                                      title: '텃밭', 
                                      latlng: new kakao.maps.LatLng(33.450879, 126.569940)
                                  },
                                  {
                                      title: '근린공원',
                                      latlng: new kakao.maps.LatLng(33.451393, 126.570738)
                                  }
                              ];

                              for (let i = 0; i < positions.length; i ++) {                            
                                  const marker = new kakao.maps.Marker({
                                      map: map,
                                      position: positions[i].latlng, 
                                      title : positions[i].title,
                                  });
                              }
                              */
                            }, function errorCallback() {
                                            defaultPosition;
                                        }
                                    )
                                }
                              }
                  marker.setMap(map);


                  </script>
                  <!--End Kakao Map-->
                </div>
            </div>
            <!-- End Map-->
        </div>

        <div class="container py-5">
            <div class="row py-1">
                <div class="row">
                    <div class="col text-center mt-2">
                        <button type="button" class="btn btn-outline-primary">1</button>
                        <!--<a href="/write.html"> 다음페이지 연결-->
                        <button type="button" class="btn btn-outline-primary">2</button>
                        <button type="button" class="btn btn-outline-primary">3</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Content -->


{% endblock %}